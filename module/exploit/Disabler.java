package module.exploit;

import de.Hero.settings.Setting;
import me.nikolabg209.golden.Golden;
import me.nikolabg209.golden.events.Event;
import me.nikolabg209.golden.events.listeners.EventMotion;
import module.Category;
import module.Module;
import module.ModuleManager;
import module.movement.Flight;
import net.minecraft.network.play.client.C03PacketPlayer;

public class Disabler extends Module{
	private boolean teleported;
	public Disabler() {
		super("Disabler", 0, Category.EXPLOIT);
	}
	public void setup() {
        Golden.instance.settingsManager.rSetting(new Setting("VerusMovement", this,  false));

	}
	{
	for(Module m : ModuleManager.getModules());
		
	}
	
	public void onEvent(Event e)  {
    	if(e instanceof EventMotion) {
    		if(e.isPre()) { 
    			if(ModuleManager.getModuleByName("Flight").isToggled()) {
    				if(Golden.instance.settingsManager.getSettingByName("VerusMovement").getValBoolean() && mc.thePlayer.ticksExisted % 5 == 0) {
    					//if(Golden.instance.settingsManager.getSettingByName("Fly Mode").getValString().equalsIgnoreCase("Collide")) {
    					mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(mc.thePlayer.posX, mc.thePlayer.posY, mc.thePlayer.posZ, mc.thePlayer.onGround));
    					mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(mc.thePlayer.posX, mc.thePlayer.posY, mc.thePlayer.posZ, false));
    					mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(mc.thePlayer.posX, mc.thePlayer.posY, mc.thePlayer.posZ, mc.thePlayer.onGround));
    					this.teleported = true;
    					    				}
    			}
    			
    		}
    	}
   	}

}
